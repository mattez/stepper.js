"use strict";!function(t){t.fn.stepper=function(s){var i=void 0,e=function(t,s,i){var e=void 0;return function(){var n=this,a=arguments,r=function(){e=null,i||t.apply(n,a)},o=i&&!e;clearTimeout(e),e=setTimeout(r,s),o&&t.apply(n,a)}},n=function(){try{return document.createEvent("TouchEvent"),!0}catch(t){return!1}},a=function(t){return(t.split(".")[1]||[]).length},r=function(){return""===t(this).val()?0:t(this).val()},o=function(){var s=t(this).closest(".js-spinner"),e=(n()?"touchstart":"mousedown",this);s.find("[data-spinner-button]").on("click",function(){var s=t(this).attr("data-spinner-button");"up"===s?t.fn.stepper.increase.call(e):t.fn.stepper.decrease.call(e)}).on("mousedown",function(){var s=t(this).attr("data-spinner-button");t(this).data("timer",setTimeout(function(){i=setInterval(function(){"up"===s?t.fn.stepper.increase.call(e):t.fn.stepper.decrease.call(e)},60)},e.settings.debounce))}).on("mouseup",function(){clearTimeout(t(this).data("timer"))}),t(document).mouseup(function(){clearInterval(i)})};t.fn.stepper.increase=function(){var s=parseFloat(r.call(this)),i=void 0;this.settings=t(this).data("settings");var e=a(this.settings.step),n=s/parseFloat(this.settings.step);i=1!==this.settings.step&&n%1!==0?((Math.floor(n)+1)*parseFloat(this.settings.step)).toFixed(e):(s+parseFloat(this.settings.step)).toFixed(e);var o=t(this).val();h.call(this,i,o)},t.fn.stepper.decrease=function(){var s=parseFloat(r.call(this)),i=void 0;this.settings=t(this).data("settings");var e=a(this.settings.step),n=s/parseFloat(this.settings.step);i=1!==this.settings.step&&n%1!==0?(Math.floor(n)*parseFloat(this.settings.step)).toFixed(e):(s-parseFloat(this.settings.step)).toFixed(e);var o=t(this).val();h.call(this,i,o)};var h=function(s,i){(s<=this.settings.max||"undefined"==typeof this.settings.max)&&(s>=this.settings.min||"undefined"==typeof this.settings.min)?(n()?t(this).val(s):t(this).val(s).focus(),p.call(this)):i>this.settings.max?t(this).val(this.settings.max):i<this.settings.min&&t(this).val(this.settings.min)},p=e(function(){t(this).trigger("change")},400);return this.each(function(){var i=this;this.settings=t.extend({step:t(this).is("[step]")?t(this).attr("step"):"1",min:t(this).is("[min]")?parseFloat(t(this).attr("min")):void 0,max:t(this).is("[max]")?parseFloat(t(this).attr("max")):void 0,debounce:t(this).is("[data-stepper-debounce]")?parseInt(t(this).attr("data-stepper-debounce")):400},s),this.init=function(){t(i).data("settings",i.settings),o.call(i)},this.init()})},t('input[type="number"]').stepper()}(jQuery);