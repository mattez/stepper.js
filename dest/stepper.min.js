"use strict";!function(t){t.fn.stepper=function(s){var e=void 0,i=function(t,s,e){var i=void 0;return function(){var n=this,a=arguments,r=function(){i=null,e||t.apply(n,a)},o=e&&!i;clearTimeout(i),i=setTimeout(r,s),o&&t.apply(n,a)}},n=function(){try{return document.createEvent("TouchEvent"),!0}catch(t){return!1}},a=function(t){return(t.split(".")[1]||[]).length},r=function(){return""===t(this).val()?0:t(this).val()},o=function(){var s=t(this).closest(".js-spinner"),i=n()?"touchstart":"mousedown",a=this;s.find("[data-spinner-button]").on(i,function(){var s=t(this).attr("data-spinner-button");"up"===s?t.fn.stepper.increase.call(a):t.fn.stepper.decrease.call(a)}).on("mousedown",function(){var s=t(this).attr("data-spinner-button");t(this).data("timer",setTimeout(function(){e=setInterval(function(){"up"===s?t.fn.stepper.increase.call(a):t.fn.stepper.decrease.call(a)},60)},a.settings.debounce))}).on("mouseup",function(){clearTimeout(t(this).data("timer"))}),t(document).mouseup(function(){clearInterval(e)})};t.fn.stepper.increase=function(){var s=parseFloat(r.call(this)),e=void 0;this.settings=t(this).data("settings");var i=a(this.settings.step),n=s/parseFloat(this.settings.step);e=1!==this.settings.step&&n%1!==0?((Math.floor(n)+1)*parseFloat(this.settings.step)).toFixed(i):(s+parseFloat(this.settings.step)).toFixed(i);var o=t(this).val();h.call(this,e,o)},t.fn.stepper.decrease=function(){var s=parseFloat(r.call(this)),e=void 0;this.settings=t(this).data("settings");var i=a(this.settings.step),n=s/parseFloat(this.settings.step);e=1!==this.settings.step&&n%1!==0?(Math.floor(n)*parseFloat(this.settings.step)).toFixed(i):(s-parseFloat(this.settings.step)).toFixed(i);var o=t(this).val();h.call(this,e,o)};var h=function(s,e){(s<=this.settings.max||"undefined"==typeof this.settings.max)&&(s>=this.settings.min||"undefined"==typeof this.settings.min)?(n()?t(this).val(s):t(this).val(s).focus(),p.call(this)):e>this.settings.max?t(this).val(this.settings.max):e<this.settings.min&&t(this).val(this.settings.min)},p=i(function(){t(this).trigger("change")},400);return this.each(function(){var e=this;this.settings=t.extend({step:t(this).is("[step]")?t(this).attr("step"):"1",min:t(this).is("[min]")?parseFloat(t(this).attr("min")):void 0,max:t(this).is("[max]")?parseFloat(t(this).attr("max")):void 0,debounce:t(this).is("[data-stepper-debounce]")?parseInt(t(this).attr("data-stepper-debounce")):400},s),this.init=function(){t(e).data("settings",e.settings),o.call(e)},this.init()})},t('input[type="number"]').stepper()}(jQuery);